export default {
  'skinning.vert': 'attribute vec4 a_weight;\nattribute vec4 a_joint;\nuniform sampler2D u_bonesTexture;\nuniform float u_bonesTextureSize;\nmat4 getBoneMatrix(const in float i) {\n  float size = u_bonesTextureSize;\n  float j = i * 4.0;\n  float x = mod(j, size);\n  float y = floor(j / size);\n  float dx = 1.0 / size;\n  float dy = 1.0 / size;\n  y = dy * (y + 0.5);\n  vec4 v1 = texture2D(u_bonesTexture, vec2(dx * (x + 0.5), y));\n  vec4 v2 = texture2D(u_bonesTexture, vec2(dx * (x + 1.5), y));\n  vec4 v3 = texture2D(u_bonesTexture, vec2(dx * (x + 2.5), y));\n  vec4 v4 = texture2D(u_bonesTexture, vec2(dx * (x + 3.5), y));\n  return mat4(v1, v2, v3, v4);\n}\nmat4 skinMatrix() {\n  return\n    getBoneMatrix(a_joint.x) * a_weight.x +\n    getBoneMatrix(a_joint.y) * a_weight.y +\n    getBoneMatrix(a_joint.z) * a_weight.z +\n    getBoneMatrix(a_joint.w) * a_weight.w\n    ;\n}',
  'unpack-normal.frag': 'vec3 unpackNormal(vec4 nmap) {\n  return nmap.xyz * 2.0 - 1.0;\n}',
};
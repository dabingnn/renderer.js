{"version":3,"sources":["./dist/renderer.dev.js"],"names":["renderer","gfx","vmath","memop","initTextures","device","canvas","document","createElement","context","getContext","width","height","fillStyle","fillRect","defaultTexture","Texture2D","images","wrapS","WRAP_REPEAT","wrapT","format","TEXTURE_FMT_RGB8","mipmap","initBuiltin","builtin","Object","assign","enums","PP_PROJECTION","PP_ORTHO","STAGE_OPAQUE","STAGE_TRANSPARENT","STAGE_SHADOWCAST","PARAM_INT","PARAM_INT2","PARAM_INT3","PARAM_INT4","PARAM_FLOAT","PARAM_FLOAT2","PARAM_FLOAT3","PARAM_FLOAT4","PARAM_COLOR3","PARAM_COLOR4","PARAM_MAT2","PARAM_MAT3","PARAM_MAT4","PARAM_TEXTURE_2D","PARAM_TEXTURE_CUBE","_m3_tmp","mat3","create","_m4_tmp","mat4","_stageInfos","FramePool","stage","items","_float2_pool","Float32Array","_float3_pool","_float4_pool","_float9_pool","_float16_pool","_int2_pool","Int32Array","_int3_pool","_int4_pool","_type2uniformValue","value","vec2","array","alloc","vec3","vec4","color3","color4","mat2","Renderer","anonymous","this","_device","_builtin","_type2defaultValue","obj","new","defaultTextureCube","_stage2fn","_drawItemsPools","RecyclePool","node","mesh","material","_stageItemsPools","technique","zdist","prototype","_reset","reset","_render","camera","scene","stages","this$1","setViewport","_rect","w","h","clear","color","depth","allDrawItems","i","_models","length","model","data","m","meshCount","drawItem","add","getDrawItem","i$1","stageItems","j","drawItem$1","tech","getTechnique","stageItem","stageInfo","i$2","info","fn","_draw","item","getWorldMatrix","setUniform","transpose","invert","fromMat4","slot","_parameters","prop","param","getValue","name","undefined","val","type","console","warn","setTexture","convertFn","convertedValue","_passes","pass","count","_vertexBuffer","setVertexBuffer","_indexBuffer","setIndexBuffer","setPrimitiveType","_primitiveType","setProgram","_program","setCullMode","_cullMode","_blend","enableBlend","setBlendFuncSep","_blendSrc","_blendDst","_blendSrcAlpha","_blendDstAlpha","setBlendEqSep","_blendEq","_blendAlphaEq","setBlendColor32","_blendColor","_depthTest","enableDepthTest","setDepthFunc","_depthFunc","_depthWrite","enableDepthWrite","_stencilTest","enableStencilTest","setStencilFuncFront","_stencilFuncFront","_stencilRefFront","_stencilMaskFront","setStencilOpFront","_stencilFailOpFront","_stencilZFailOpFront","_stencilZPassOpFront","_stencilWriteMaskFront","setStencilFuncBack","_stencilFuncBack","_stencilRefBack","_stencilMaskBack","setStencilOpBack","_stencilFailOpBack","_stencilZFailOpBack","_stencilZPassOpBack","_stencilWriteMaskBack","draw","_camPos","_camFwd","_v3_tmp1","_a16_view","_a16_proj","_a16_viewProj","ForwardRenderer","Renderer$$1","call","_opaqueStage","bind","_transparentStage","__proto__","constructor","render","updateMatrix","_view","_proj","_viewProj","sort","a","b","_layer","sortID","_node","getWorldPos","set","m02","m06","m10","sub","dot","item$1","forward","Mesh","vb","ib","pt","PT_TRIANGLES","createMesh","positions","error","verts","vcount","push","normals","uvs","vfmt","ATTR_POSITION","ATTR_TYPE_FLOAT32","num","ATTR_NORMAL","ATTR_UV","VertexBuffer","VertexFormat","USAGE_STATIC","indices","IndexBuffer","INDEX_FMT_UINT16","Uint16Array","Pass","program","CULL_BACK","BLEND_FUNC_ADD","BLEND_ONE","BLEND_ZERO","DS_FUNC_LESS","DS_FUNC_ALWAYS","STENCIL_OP_KEEP","cullMode","setBlend","blendEq","blendSrc","blendDst","blendAlphaEq","blendSrcAlpha","blendDstAlpha","blendColor","setDepth","depthTest","depthWrite","depthFunc","setStencilFront","stencilFunc","stencilRef","stencilMask","stencilFailOp","stencilZFailOp","stencilZPassOp","stencilWriteMask","setStencilBack","_genID","Technique","parameters","passes","layer","_id","_stages","id","Material","techniques","values","_techniques","_values","setValue","Light","_color","setNode","Camera","_perspective","_near","_far","_fov","Math","PI","_orthoHeight","x","y","_scissor","_invViewProj","aspect","perspective","ortho","mul","Model","_meshes","_materials","prototypeAccessors","addMesh","indexOf","addMaterial","get","out","index","defineProperties","Scene","_lights","FixedArray","addModel","idx","removeModel","fastRemove","window"],"mappings":"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"}